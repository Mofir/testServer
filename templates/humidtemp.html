<!DOCTYPE html>
<html>
<head>
	<title>Temperature</title>
	<meta http-equiv="content-type" content="text/html; charset= utf-8" />
	<script src="jquery.js"></script>
	<script src="plotly.min.js"></script>
	<link rel="stylesheet" type="text/css" href="">
	<script type="text/javascript">
		const updateDht = async(url, element) => {
			const sensorData = await fetch(url)
									 .then(response => response.text())
			const target = document.getElementById(element)
			target.innerHTML = `<h1>${sensorData}</h1>`
		}
	</script>
	
</head>
<body onload="updateDht('/dht', 'data')>
	<div class="Navbar"><span>Real-time chart</span></div>
	<div class="wrapper">
		<div id="chart"></div>
		<script type="text/javascript">
			function getData(){
				return 'data';
			}

			Plotly.plot('chart',[{
				y:[getData()],
				type: 'line'
			}]);

			setInterval(function(){
				Plotly.extendTraces('chart',{y:[[getData()]]}, [0]);
			}, 3000);

		</script>
	</div>

</body>
</html>